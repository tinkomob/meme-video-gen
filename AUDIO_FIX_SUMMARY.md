# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ–º –∑–≤—É–∫–∞ –≤ –≤–∏–¥–µ–æ

## –ü—Ä–æ–±–ª–µ–º–∞
–ü—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤–∏–¥–µ–æ –∏–Ω–æ–≥–¥–∞ –ø–æ–ª—É—á–∞–ª–æ—Å—å –≤–∏–¥–µ–æ –±–µ–∑ –∑–≤—É–∫–∞ –∏–∑-–∑–∞ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∞—É–¥–∏–æ —Å YouTube. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –ø–æ–ª—É—á–∞–ª —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ–± —ç—Ç–∏—Ö –æ—à–∏–±–∫–∞—Ö.

## –í–Ω–µ—Å–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. app/audio.py
**–£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö –∑–∞–≥—Ä—É–∑–∫–∏ –∞—É–¥–∏–æ:**

- `download_random_song_from_playlist()`:
  - –¢–µ–ø–µ—Ä—å –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –≤–º–µ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—Ç–∞ `None`
  - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–∑–º–µ—Ä –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ (–Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—É—Å—Ç—ã–º)
  - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ YouTube (403, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ –≤–∏–¥–µ–æ)
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

- `extract_random_audio_clip()`:
  - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π
  - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ (–Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 0 –±–∞–π—Ç)
  - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∞—É–¥–∏–æ (–Ω–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å 0 –∏–ª–∏ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–π)
  - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–∑–¥–∞–Ω–Ω—ã–π –∫–ª–∏–ø –Ω–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å
  - –í—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏

### 2. app/service.py
**–î–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:**

- –í `generate_meme_video()`:
  - –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ö–∞–Ω–∏–∑–º 3 –ø–æ–ø—ã—Ç–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ –∞—É–¥–∏–æ
  - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∫–∞–∂–¥–æ–π –ø–æ–ø—ã—Ç–∫–µ
  - –ü—Ä–∏ –Ω–µ—É–¥–∞—á–µ –≤—Å–µ—Ö –ø–æ–ø—ã—Ç–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —á–µ—Ç–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:
    - "‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∞—É–¥–∏–æ –ø–æ—Å–ª–µ 3 –ø–æ–ø—ã—Ç–æ–∫"
    - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω—è—è –æ—à–∏–±–∫–∞
    - "‚ö†Ô∏è –í–∏–¥–µ–æ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–æ –ë–ï–ó –ó–í–£–ö–ê"
  - –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –≤–∏–¥–µ–æ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –Ω–∞–ª–∏—á–∏—è –∞—É–¥–∏–æ
  - –ï—Å–ª–∏ –∞—É–¥–∏–æ –æ–∂–∏–¥–∞–ª–æ—Å—å, –Ω–æ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ

- –í `replace_audio_in_video()`:
  - –ê–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –ª–æ–≥–∏–∫–∞ 3 –ø–æ–ø—ã—Ç–æ–∫
  - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø–æ–ø—ã—Ç–∫–∞—Ö –∏ –æ—à–∏–±–∫–∞—Ö
  - –ß–µ—Ç–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–∏ –Ω–µ—É–¥–∞—á–µ

### 3. app/video.py
**–£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∞—É–¥–∏–æ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –≤–∏–¥–µ–æ:**

- `convert_to_tiktok_format()`:
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∞—É–¥–∏–æ
  - –õ–æ–≥–∏—Ä—É—é—Ç—Å—è –æ—à–∏–±–∫–∏ –ø—Ä–∏ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏ –∞—É–¥–∏–æ –∫ –≤–∏–¥–µ–æ
  - –ß–µ—Ç–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –ª–æ–≥ –æ —Ç–æ–º, —Å–æ–∑–¥–∞–µ—Ç—Å—è –ª–∏ –≤–∏–¥–µ–æ –±–µ–∑ –∑–≤—É–∫–∞

## –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ –∏—Ö —Å–æ–æ–±—â–µ–Ω–∏—è

### –û—à–∏–±–∫–∏ YouTube:
- **HTTP 403**: "–û—à–∏–±–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ YouTube (403). –í–æ–∑–º–æ–∂–Ω–æ, –Ω—É–∂–Ω—ã cookies –∏–ª–∏ YouTube –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª –∑–∞–ø—Ä–æ—Å."
- **–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: "YouTube —Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é. –ù–µ–æ–±—Ö–æ–¥–∏–º—ã cookies (youtube_cookies.txt)"
- **–í–∏–¥–µ–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ**: "–í–∏–¥–µ–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ –∏–ª–∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ–µ"
- **–ù–µ—Ç —Ñ–æ—Ä–º–∞—Ç–æ–≤**: "–ù–µ –Ω–∞–π–¥–µ–Ω—ã –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –∞—É–¥–∏–æ"

### –û—à–∏–±–∫–∏ —Ñ–∞–π–ª–æ–≤:
- **–ü—É—Å—Ç–æ–π —Ñ–∞–π–ª**: "–ó–∞–≥—Ä—É–∂–µ–Ω –ø—É—Å—Ç–æ–π –∞—É–¥–∏–æ-—Ñ–∞–π–ª" / "–ê—É–¥–∏–æ-—Ñ–∞–π–ª –ø—É—Å—Ç–æ–π (0 –±–∞–π—Ç)"
- **–§–∞–π–ª –Ω–µ —Å–æ–∑–¥–∞–Ω**: "–ê—É–¥–∏–æ-—Ñ–∞–π–ª –Ω–µ –±—ã–ª —Å–æ–∑–¥–∞–Ω –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏"
- **–ù—É–ª–µ–≤–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: "–ê—É–¥–∏–æ-—Ñ–∞–π–ª –∏–º–µ–µ—Ç –Ω—É–ª–µ–≤—É—é –∏–ª–∏ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—É—é –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å"

## –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

### –ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–µ:
- "üéµ –°–∫–∞—á–∏–≤–∞—é —Ç—Ä–µ–∫ –∏–∑ –ø–ª–µ–π–ª–∏—Å—Ç–∞‚Ä¶"
- "‚úÇÔ∏è –í—ã—Ä–µ–∑–∞—é –∞—É–¥–∏–æ-–∫–ª–∏–ø –Ω—É–∂–Ω–æ–π –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏‚Ä¶"
- "‚úÖ –ê—É–¥–∏–æ —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ: [–Ω–∞–∑–≤–∞–Ω–∏–µ —Ç—Ä–µ–∫–∞]"
- "‚úÖ –í–∏–¥–µ–æ —Å –∞—É–¥–∏–æ –≥–æ—Ç–æ–≤–æ (10.5—Å)"

### –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–∫–∞—Ö:
- "üîÑ –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∞—É–¥–∏–æ (2/3)‚Ä¶"
- "‚ö†Ô∏è –û—à–∏–±–∫–∞: [–¥–µ—Ç–∞–ª–∏ –æ—à–∏–±–∫–∏]"

### –ü—Ä–∏ –Ω–µ—É–¥–∞—á–µ:
- "‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∞—É–¥–∏–æ –ø–æ—Å–ª–µ 3 –ø–æ–ø—ã—Ç–æ–∫"
- "‚ö†Ô∏è –ü–æ—Å–ª–µ–¥–Ω—è—è –æ—à–∏–±–∫–∞: [–¥–µ—Ç–∞–ª–∏]"
- "‚ö†Ô∏è –í–∏–¥–µ–æ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–æ –ë–ï–ó –ó–í–£–ö–ê"
- "‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï: –í–∏–¥–µ–æ —Å–æ–∑–¥–∞–Ω–æ, –Ω–æ –∞—É–¥–∏–æ –ù–ï –î–û–ë–ê–í–õ–ï–ù–û"

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –æ—à–∏–±–æ–∫:
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `youtube_cookies.txt` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏ –∞–∫—Ç—É–∞–ª–µ–Ω
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤ (–Ω–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ)
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ ffmpeg —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `audio/`

### –î–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥-—Ñ–∞–π–ª—ã –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –æ—à–∏–±–æ–∫
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `/checkfiles` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞–ª–∏—á–∏—è cookies
3. –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –æ—à–∏–±–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ - –æ–±–Ω–æ–≤–∏—Ç–µ `youtube_cookies.txt`
4. –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –æ—à–∏–±–∫–∞—Ö 403 - –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π –±—Ä–∞—É–∑–µ—Ä –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è cookies

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ú–µ—Ö–∞–Ω–∏–∑–º –ø–æ–≤—Ç–æ—Ä–æ–≤:
- –ú–∞–∫—Å–∏–º—É–º 3 –ø–æ–ø—ã—Ç–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –∞—É–¥–∏–æ
- –ó–∞–¥–µ—Ä–∂–∫–∞ 2 —Å–µ–∫—É–Ω–¥—ã –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏
- –ö–∞–∂–¥–∞—è –ø–æ–ø—ã—Ç–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–π —Ç—Ä–µ–∫ –∏–∑ –ø–ª–µ–π–ª–∏—Å—Ç–∞
- –ü—Ä–∏ –Ω–µ—É–¥–∞—á–µ –≤—Å–µ—Ö –ø–æ–ø—ã—Ç–æ–∫ –≤–∏–¥–µ–æ —Å–æ–∑–¥–∞–µ—Ç—Å—è –±–µ–∑ –∑–≤—É–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö:
- –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –≤–∏–¥–µ–æ –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Ñ–ª–∞–≥ `has_audio` –≤ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
- –ï—Å–ª–∏ –∞—É–¥–∏–æ –æ–∂–∏–¥–∞–ª–æ—Å—å, –Ω–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ - –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –ø—Ä–æ–±–ª–µ–º–µ

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
- –í—Å–µ –æ—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å –ø–æ–ª–Ω—ã–º traceback
- –í –∫–æ–Ω—Å–æ–ª—å –≤—ã–≤–æ–¥—è—Ç—Å—è –¥–µ—Ç–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ
- –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ `logging.error()`
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è —á–µ—Ä–µ–∑ `logging.warning()`
